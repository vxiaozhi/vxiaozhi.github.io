---
layout:     post
title:      "Kubernetes 渐进式发布"
subtitle:   "Kubernetes 渐进式发布"
date:       2025-04-23
author:     "vxiaozhi"
catalog: true
tags:
    - k8s
---

# Kubernetes 渐进式发布

通常渐进式发布包括：蓝绿发布、金丝雀发布。这篇文章对此做了详细介绍：

- [k8s应用更新策略：灰度发布和蓝绿发布](https://www.hebye.com/docs/k8s-roll/k8s-roll-1dd4l55dga9d1)

## 蓝绿发布

蓝绿部署中，一共有两套系统：一套是正在提供的服务系统，标记为”绿色”；另一套是准备发布的系统，标记为”蓝色”。两套系统都是功能完善的、正在运行的系统，只是系统版本和对外服务情况不同。
开发新版本，要用新版本替换线上的旧版本，在线上的系统之后，搭建了一个使用新版本代码的全新系统，这时候，一共有两套系统在运行，正在对外提供服务的老系统是绿色系统，新部署的系统是蓝色系统。

k8s 默认不支持蓝绿发布，如果要在 k8s 中实现蓝绿发布， 需要部署 两个 deployment 分别作为 蓝方和绿方，然后更新应用程序的service以指向新的deployment部署的应用。
